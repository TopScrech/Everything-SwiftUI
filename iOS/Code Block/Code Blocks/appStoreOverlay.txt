import SwiftUI
import StoreKit

@available(iOS 14, *)
public extension View {
    func appStoreOverlay <T: CustomStringConvertible> (
        _ isPresented: Binding<Bool>,
        id: T,
        position: SKOverlay.Position = .bottom
    ) -> some View {
        self.appStoreOverlay(isPresented: isPresented) {
            SKOverlay.AppConfiguration(
                appIdentifier: id.description,
                position: position
            )
        }
    }
}

// Usage

import SwiftUI

struct AppStoreOverlay: View {
    @State private var overlay = false

    var body: some View {
        List {
            Button("Present") {
                overlay = true
            }
        }
#if os(iOS) || os(visionOS)
        .appStoreOverlay($overlay, id: 1639409934)
#endif
    }
}
